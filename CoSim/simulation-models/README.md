# Simulation Models

This directory contains example simulation models for MuJoCo and PyBullet.

## MuJoCo Models (.xml)

### cartpole.xml
Classic cart-pole (inverted pendulum) system for reinforcement learning.

**Features:**
- Cart with 1D slider joint (±2m range)
- Pole attached with hinge joint
- Motor actuator for cart control (±50N)
- 4 sensors: cart position/velocity, pole angle/angular velocity

**Usage:**
```python
from co_sim.agents.simulation.mujoco_env import MuJoCoEnvironment

env = MuJoCoEnvironment(
    model_path="/models/cartpole.xml",
    width=640,
    height=480,
    fps=60
)
```

### pendulum.xml
Simple pendulum model with torque control.

**Features:**
- Fixed anchor point at (0, 0, 2)
- 1m pendulum arm with mass bob
- Torque actuator (±5 Nm)
- 2 sensors: angle, angular velocity

**Usage:**
```python
env = MuJoCoEnvironment(model_path="/models/pendulum.xml")
```

## PyBullet Models

PyBullet comes with many built-in URDF models via `pybullet_data`:

- **plane.urdf**: Ground plane
- **r2d2.urdf**: Simple wheeled robot
- **cartpole.urdf**: Cart-pole system
- **humanoid.urdf**: Humanoid character
- **kuka_iiwa/model.urdf**: KUKA robot arm
- **quadruped/quadruped.urdf**: Quadruped robot

### Custom pendulum.urdf
Simple pendulum model (generated by `pybullet_models.py`).

**Usage:**
```python
from co_sim.agents.simulation.pybullet_env import PyBulletEnvironment

# Built-in model
env = PyBulletEnvironment(urdf_path="r2d2.urdf")

# Custom model
env = PyBulletEnvironment(urdf_path="/models/pendulum.urdf")
```

## Docker Volume

These models are mounted in the simulation-agent container at `/models`:

```yaml
volumes:
  - simulation_models:/models
```

## Adding New Models

1. **MuJoCo**: Add `.xml` files to this directory
2. **PyBullet**: Add `.urdf` files to this directory or use built-in models
3. Reference by absolute path when creating simulations:
   ```python
   model_path="/models/your_model.xml"
   ```

## Model Resources

- **MuJoCo Models**: https://github.com/google-deepmind/mujoco_menagerie
- **PyBullet Models**: https://github.com/bulletphysics/bullet3/tree/master/data
- **URDF Tutorial**: http://wiki.ros.org/urdf/Tutorials

## Testing Models

```bash
# Test MuJoCo model
python -c "import mujoco; m = mujoco.MjModel.from_xml_path('cartpole.xml'); print(f'DOFs: {m.nq}')"

# Generate PyBullet URDF
python pybullet_models.py
```
